<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>人员组织管理</title>
    <link rel="stylesheet" type="text/css" href="../../../style/common/reset.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/easyui/themes/color.css"/>
    <link rel="stylesheet" type="text/css" href="../../../libs/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/easyui/themes/kno-icon-expends.css">
    <link rel="stylesheet" type="text/css" href="../../../libs/easyui/themes/kno-gray/kno-easyui.css">
    <link rel="stylesheet" type="text/css" href="../../../style/common/commonIcon.css">
    <link rel="stylesheet" type="text/css" href="../../../style/manager/twoLevelPage/twoLevelPage.css">
    <script type="text/javascript" src="../../../libs/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="../../../libs/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../../libs/knowind/CFactory.js"></script>
</head>
<body>
<div compName="personOrganizeComponent" style="width:100%;height:100%;">
    <div class="easyui-layout" style="width:100%;height:100%;">
        <div data-options="region:'north'" style="height:32px;background-color: #005F92;border: 0;">
            <h6 class="manager_two_title">人员组织管理</h6>
        </div>
        <div data-options="region:'center'">
            <div class="easyui-layout" style="width:100%;height:100%;">
                <div data-options="region:'north'" style="height:40px;line-height:38px;border: solid #c6cfdb 1px;background-color: #fbfcfd;">
                  <div style="float:right;padding: 0 20px;">
                      <input class="easyui-searchbox" data-options="prompt:'搜索',searcher:personOrganizeComponent.doSearch"
                             style="width:400px;height: 24px;">
                  </div>
                </div>
                <div data-options="region:'west'" style="width:260px;border: solid #c6cfdb 1px;">
                    <ul id="personOrganizeTree"></ul>
                </div>
                <div data-options="region:'center'" style="border: solid #c6cfdb 1px;">
                    <table id="personOrganizeTable" data-options="fit: true,fitColumns: true,toolbar:'#personOrganizeTableToolBar'"></table>
                    <div id="personOrganizeTableToolBar" style="height:auto">
                        <a href="javascript:void(0)" class="easyui-linkbutton" data-options="iconCls:'icon-save',plain:true">添加人员</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var personOrganizeComponent = CFactory.createComponent({
        compName: "personOrganizeComponent",
        init: function () {
            this.loadOrganizeTree();
            this.loadOrganizeTable();
        },
        doSearch: function () {
            
        },
        loadOrganizeTree: function () {
            var data = [
                {
                    "id": 11,
                    "text": "组织",
                    "children": [{
                        "id": 111,
                        "text": "总体专业"
                    }, {
                        "id": 112,
                        "text": "气动专业"
                    }, {
                        "id": 113,
                        "text": "弹道专业"
                    }]
                }]
            $("#personOrganizeTree").tree({
                data: data
            })
        },
        loadOrganizeTable: function () {
            var data={"total":28,"rows":[
                {"name":"李明","phone":"13611368758","email":"824986858@qq.com","power":"一般权限"},
                {"name":"王德顺","phone":"13611368758","email":"824986858@qq.com","power":"一般权限"},
                {"name":"李丹","phone":"13611368758","email":"824986858@qq.com","power":"一般权限"},
                {"name":"张思","phone":"13611368758","email":"824986858@qq.com","power":"一般权限"}
            ]}
            $('#personOrganizeTable').datagrid({
                data:data,
                columns:[[
                    {field:'name',title:'姓名',width:120},
                    {field:'phone',title:'电话',width:120},
                    {field:'email',title:'邮箱',width:200},
                    {field:'power',title:'权限',width:180},
                    {field:'action',title:'操作',width:100, formatter: function (value, row, index) {
                        return "<i class='icon20 common_icon_del mr8' style='vertical-align: bottom;'></i>"
                    }}
                ]]
            });
        }

    })
</script>
</body>
</html>